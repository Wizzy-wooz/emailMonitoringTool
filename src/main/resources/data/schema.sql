/*
 * MySQL script.
 * Create the database schema for the application.
 */
DROP TABLE IF EXISTS `EMAIL_DETAIL`;
DROP TABLE IF EXISTS `PROFILE`;

CREATE TABLE PROFILE
(
    ID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
    NAME VARCHAR(50),
    EMAIL VARCHAR(50) NOT NULL,
    PASSWORD VARCHAR(50) NOT NULL,
    PORT VARCHAR(50) NOT NULL,
    DIRECTORY VARCHAR(200) NOT NULL
)ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;
CREATE UNIQUE INDEX PROFILE_ID_uindex ON PROFILE (ID);

DROP TABLE IF EXISTS `EMAIL_DETAIL`;

CREATE TABLE EMAIL_DETAIL
(
    ID INT(11) PRIMARY KEY NOT NULL AUTO_INCREMENT,
    BODY VARCHAR(100000),
    SUBJECT VARCHAR(1000),
    SENDER VARCHAR(100) NOT NULL,
    SENTDATE DATE NOT NULL,
    ATTACHMENTDIRECTORY VARCHAR(200) NOT NULL,
    FK_PROFILE_ID INT(11) NOT NULL,
    CONSTRAINT EMAIL_DETAIL_fk FOREIGN KEY (FK_PROFILE_ID) REFERENCES PROFILE (ID)
);
CREATE INDEX EMAIL_DETAIL_fk ON EMAIL_DETAIL (FK_PROFILE_ID);
CREATE UNIQUE INDEX EMAIL_DETAIL_ID_uindex ON EMAIL_DETAIL (ID);
